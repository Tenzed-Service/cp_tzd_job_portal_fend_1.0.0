<div class="job-section">
  <!-- Filters and Search -->
  <div class="bg-white rounded custom-shadow px-4 py-3 my-4">
    <div
      class="grid grid-cols-1 md:grid-cols-2 gap-2">
      <app-tabs
      [activeTab]="activeTab"
      [tabList]="tabList"
      (tabChange)="switchTab($event)"
      ></app-tabs>
      <div class="flex items-center justify-center lg:justify-end gap-3">
        <div class="relative max-w-64">
          <app-simple-input [prefixIcon]="'ri-search-line'"></app-simple-input>
        </div>
        <button (click)="openForm('jobs/create-job')"
          class="bg-primary text-white px-4 py-1.5 rounded-button text-sm font-medium hover:bg-opacity-90 whitespace-nowrap">
          <div class="flex items-center space-x-2">
            <div class="w-4 h-4 flex items-center justify-center">
              <i class="ri-add-line"></i>
            </div>
            <span>Add New Job</span>
          </div>
        </button>
      </div>
    </div>
  </div>
  <!-- Jobs Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    @for (job of jobList; track job.id) {
    <div
      class="bg-white rounded custom-shadow py-6 px-4 job-card group hover:shadow-lg transition-all duration-300">
      <div class="relative">
        <!-- Status Badge -->
        <div class="absolute -top-3 right-0">
          <span
            class="status-badge rounded-lg px-3 py-1 text-xs font-semibold inline-flex items-center"
            [ngClass]="{
                    'status-active bg-green-50 text-green-700': job.status === 'Active',
                    'status-closed bg-red-50 text-red-700': job.status === 'Closed'
                  }">
            <span class="w-1.5 h-1.5 rounded-full mr-1.5"
              [ngClass]="'bg-' + job.statusColor"></span>
            {{ job.status }}
          </span>
        </div>
        <!-- Header -->
        <div class="flex items-start space-x-4">
          <div
            class="w-12 h-12 rounded-full bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center">
            <i [class]="job.icon + ' text-primary text-2xl'"></i>
          </div>
          <div class="flex-1">
            <h3
              class="text-xl font-semibold text-gray-900 mb-1 group-hover:text-primary transition-colors">
              {{ job.title }}
            </h3>
            <div
              class="flex items-center text-sm text-gray-500 space-x-3">
              <div class="flex items-center">
                <i class="ri-briefcase-line mr-1"></i>
                <span>{{ job.department }}</span>
              </div>
            </div>
            <div class="flex items-center text-sm text-gray-500 mt-1">
              <i class="ri-map-pin-line mr-1"></i>
              <span>{{ job.location }}</span>
            </div>
            <!-- <div class="flex flex-col sm:flex-row items-start sm:items-center text-sm text-gray-500 space-x-0 sm:space-x-3 gap-1">
                <div class="flex items-center">
                  <i class="ri-building-line mr-1"></i>
                  <span>{{ job.department }}</span>
                </div>
                <div class="flex items-center">
                  <i class="ri-map-pin-line mr-1"></i>
                  <span>{{ job.location }}</span>
                </div>
              </div> -->
          </div>
        </div>
        <!-- Tags Section -->
        <div class="mt-6 flex flex-wrap gap-2">
          @for (tag of job.tags; track tag.label) {
          <span
            class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"
            [ngClass]="tag.bgColor + ' ' + tag.textColor">
            <i [class]="tag.icon + ' mr-1'"></i>
            {{ tag.label }}
          </span>
          }
        </div>
        <!-- Details Grid -->
        <div class="mt-6 grid grid-cols-2 gap-4">
          <div class="flex items-center space-x-2 text-sm">
            <div
              class="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center">
              <i class="ri-calendar-line text-gray-600"></i>
            </div>
            <div>
              <div class="text-gray-500">Start Date</div>
              <div class="font-medium text-gray-900">{{ job.details.startDate
                }}</div>
            </div>
          </div>
          <div class="flex items-center space-x-2 text-sm">
            <div
              class="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center">
              <i class="ri-briefcase-line text-gray-600"></i>
            </div>
            <div>
              <div class="text-gray-500">Experience</div>
              <div class="font-medium text-gray-900">{{ job.details.experience
                }}</div>
            </div>
          </div>
          <div class="flex items-center space-x-2 text-sm">
            <div
              class="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center">
              <i class="ri-user-line text-gray-600"></i>
            </div>
            <div>
              <div class="text-gray-500">Applicants</div>
              <div class="font-medium text-gray-900">{{ job.details.applicants
                }}</div>
            </div>
          </div>
          <div class="flex items-center space-x-2 text-sm">
            <div
              class="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center">
              <i class="ri-timer-line text-gray-600"></i>
            </div>
            <div>
              <div class="text-gray-500">{{ job.status === 'Closed' ? 'Status' :
                'Time Left' }}</div>
              <div class="font-medium text-gray-900">
                {{ job.status === 'Closed' ? job.details.status :
                job.details.timeLeft }}
              </div>
            </div>
          </div>
        </div>
        <!-- Progress Bar -->
        <div class="mt-6">
          <div class="flex items-center justify-between text-sm mb-2">
            <span class="text-gray-600">Application Progress</span>
            <span class="text-primary font-medium">{{
              job.applicationProgress.current }}/{{
              job.applicationProgress.total }}</span>
          </div>
          <div class="w-full h-2 bg-gray-100 rounded-full overflow-hidden">
            <div class="bg-primary h-full rounded-full"
              [style.width.%]="job.applicationProgress.percentage"></div>
          </div>
        </div>
        <!-- Footer -->
        <div
          class="mt-6 pt-6 border-t border-gray-100 flex items-center justify-between">
          <div class="flex items-center space-x-2">
            <div class="flex -space-x-2">
              @for (applicant of job.applicants; track applicant.avatar ||
              applicant.additional) {
              @if (applicant.avatar) {
              <img [src]="applicant.avatar"
                class="w-8 h-8 rounded-full border-2 border-white"
                alt="Applicant">
              } @else if (applicant.additional) {
              <div
                class="w-8 h-8 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center">
                <span class="text-xs text-gray-500">{{ applicant.additional
                  }}</span>
              </div>
              }
              }
            </div>
          </div>
          <div class="flex items-center space-x-1">
            <button
              class="w-8 h-8 rounded-lg flex items-center justify-center text-gray-500 hover:bg-gray-100 hover:text-primary transition-colors">
              <i class="ri-eye-line"></i>
            </button>
            <button (click)="openForm('jobs/edit-job/'+job.id)"
              class="w-8 h-8 rounded-lg flex items-center justify-center text-gray-500 hover:bg-gray-100 hover:text-primary transition-colors">
              <i class="ri-edit-line"></i>
            </button>
            <button
              class="w-8 h-8 rounded-lg flex items-center justify-center text-gray-500 hover:bg-gray-100 hover:text-primary transition-colors">
              <i class="ri-user-search-line"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    }
  </div>

  <!-- Pagination -->
  <div class="bg-white rounded px-4 py-2 pt-0">
    <app-pagination
      [paginationSchema]="paginationSchema"
    ></app-pagination>
  </div>
</div>