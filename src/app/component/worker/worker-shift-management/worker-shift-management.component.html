<div class="Worker-task-management-section">
    <!-- Filters Section -->
    <div
        class="bg-white px-4 py-3 rounded shadow-sm border border-gray-100 my-4">
        <app-filters [filterSchema]="filterSchema"></app-filters>
    </div>
    
    <!-- Tasks List -->
    <div class="bg-white p-4 pb-0 rounded shadow-sm border border-gray-100 relative">
        <app-table
            [tableSchema]="tableSchema"></app-table>
    </div>

    <!-- Pagination -->
    <div class="bg-white rounded px-4 py-2 pt-0">
        <app-pagination [paginationSchema]="paginationSchema"></app-pagination>
    </div>
</div>

<!-- Shift Details Modal (Hidden by Default) -->
@if(shiftDetailsPanel){
<div id="shiftDetailsPanel"
    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div
        class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl font-semibold text-gray-900">Shift Details</h2>
            <button id="closeShiftDetailsBtn" (click)="shiftDetailsPanel = false"
                class="text-gray-500 hover:text-gray-700 !rounded-button whitespace-nowrap">
                <div class="w-8 h-8 flex items-center justify-center">
                    <i class="ri-close-line ri-lg"></i>
                </div>
            </button>
        </div>
        <div class="space-y-6">
            <!-- Shift Basic Info -->
            <div>
                <div class="flex items-center space-x-2 mb-2">
                    <div
                        class="w-6 h-6 flex items-center justify-center text-primary">
                        <i class="ri-time-line"></i>
                    </div>
                    <h3 class="text-lg font-medium text-gray-900">Morning Shift
                        - ICU</h3>
                </div>
                <div class="ml-8 space-y-2">
                    <div class="flex items-start">
                        <div
                            class="w-5 h-5 flex items-center justify-center text-gray-500 mt-0.5 mr-2">
                            <i class="ri-calendar-line"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-700">May 6, 2025</p>
                            <p class="text-sm text-gray-500">7:00 AM - 3:00 PM
                                (8 hours)</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div
                            class="w-5 h-5 flex items-center justify-center text-gray-500 mt-0.5 mr-2">
                            <i class="ri-hospital-line"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-700">St. Mary's
                                Hospital</p>
                            <p class="text-sm text-gray-500">ICU Department, 3rd
                                Floor</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div
                            class="w-5 h-5 flex items-center justify-center text-gray-500 mt-0.5 mr-2">
                            <i class="ri-nurse-line"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-700">Registered
                                Nurse</p>
                            <p class="text-sm text-gray-500">2 staff
                                required</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div
                            class="w-5 h-5 flex items-center justify-center text-gray-500 mt-0.5 mr-2">
                            <i class="ri-money-dollar-circle-line"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-700">$35.00 / hour</p>
                            <p class="text-sm text-gray-500">Regular pay
                                rate</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Status -->
            <div class="border-t border-gray-100 pt-4">
                <h3 class="text-sm font-medium text-gray-700 mb-2">Status</h3>
                <div class="flex items-center space-x-2">
                    <span
                        class="px-2.5 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full">Open</span>
                    <span class="text-sm text-gray-500">2 positions
                        available</span>
                </div>
            </div>
            <!-- Requirements -->
            <div class="border-t border-gray-100 pt-4">
                <h3
                    class="text-sm font-medium text-gray-700 mb-2">Requirements</h3>
                <ul class="space-y-2 ml-5 list-disc text-sm text-gray-600">
                    <li>Registered Nurse license required</li>
                    <li>Minimum 2 years of ICU experience</li>
                    <li>BLS and ACLS certification</li>
                    <li>Experience with ventilator management</li>
                    <li>Strong communication skills</li>
                </ul>
            </div>
            <!-- Notes -->
            <div class="border-t border-gray-100 pt-4">
                <h3 class="text-sm font-medium text-gray-700 mb-2">Notes</h3>
                <p class="text-sm text-gray-600">High acuity ICU unit with 1:2
                    nurse-to-patient ratio. Staff must be comfortable with
                    critical care protocols and emergency procedures.</p>
            </div>
            <!-- Actions -->
            <div
                class="border-t border-gray-100 pt-4 flex items-center justify-end">
                
                <div class="flex items-center space-x-2">
                    <button
                        class="px-3 py-1.5 text-sm text-gray-700 border border-gray-300 rounded hover:bg-gray-50 !rounded-button whitespace-nowrap">Cancel
                        Shift</button>
                </div>
            </div>
        </div>
    </div>
</div>
}
